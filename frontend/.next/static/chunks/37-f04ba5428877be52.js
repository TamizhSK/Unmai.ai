"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{2486:(e,t,a)=>{a.d(t,{Message:()=>$,E:()=>Y,UserMessage:()=>K});var r=a(3365),s=a(1521),i=a(9906),n=a(6744),l=a(6959),o=a(8198),d=a(6361),c=a(7365);let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(d.bL,{ref:t,className:(0,c.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});u.displayName=d.bL.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(d._V,{ref:t,className:(0,c.cn)("aspect-square h-full w-full",a),...s})}).displayName=d._V.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(d.H4,{ref:t,className:(0,c.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});m.displayName=d.H4.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,c.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...s})});f.displayName="Card",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",a),...s})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,c.cn)("font-semibold leading-none tracking-tight",a),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,c.cn)("p-6 pt-0",a),...s})});function h(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-primary/10",t),...a})}x.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,c.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";var p=a(7871);let g=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(p.bL,{ref:t,className:(0,c.cn)("relative overflow-hidden",a),...i,children:[(0,r.jsx)(p.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(b,{}),(0,r.jsx)(p.OK,{})]})});g.displayName=p.bL.displayName;let b=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...i}=e;return(0,r.jsx)(p.VM,{ref:t,orientation:s,className:(0,c.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...i,children:(0,r.jsx)(p.lr,{className:"relative flex-1 rounded-full bg-border"})})});b.displayName=p.VM.displayName;let v=(0,a(9395).F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function y(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,c.cn)(v({variant:a}),t),...s})}var j=a(5001),N=a(9825);let w=j.bL,k=j.l9,S=j.ZL;j.bm;let D=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(j.hJ,{ref:t,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});D.displayName=j.hJ.displayName;let A=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(S,{children:[(0,r.jsx)(D,{}),(0,r.jsxs)(j.UC,{ref:t,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[s,(0,r.jsxs)(j.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(N.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});A.displayName=j.UC.displayName;let C=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};C.displayName="DialogHeader";let I=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(j.hE,{ref:t,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});I.displayName=j.hE.displayName;let M=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(j.VY,{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",a),...s})});M.displayName=j.VY.displayName;var R=a(9606);function L(e){let{borderWidth:t=1,duration:a=24,shineColor:s=["#4285F4","#DB4437","#F4B400","#0F9D58"],className:i,style:n,...l}=e;return(0,r.jsx)("div",{style:{"--border-width":"".concat(t,"px"),"--duration":"".concat(a,"s"),backgroundImage:"radial-gradient(transparent,transparent, ".concat(Array.isArray(s)?s.join(","):s,",transparent,transparent)"),backgroundSize:"300% 300%",mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude",padding:"var(--border-width)",...n},className:(0,c.cn)("pointer-events-none absolute inset-0 size-full rounded-[inherit] will-change-[background-position] animate-shine",i),...l})}var T=a(7114),F=a(3566);a(9244);var z=a(7264),E=a(424),_=a(581),U=a(1242),P=a(4756),V=a(2920),W=a(6893);let O=e=>{switch(e){case"authentic":return"bg-[#0F9D58]";case"suspicious":return"bg-[#F4B400]";case"fake":return"bg-[#DB4437]";default:return"bg-[#4285F4]"}},B=e=>{let{score:t,label:a,icon:s}=e,i=2*Math.PI*20,n=i-t/100*i,l=(e=>e>=75?"#0F9D58":e>=40?"#F4B400":"#DB4437")(t);return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("svg",{className:"w-14 h-14 transform -rotate-90",viewBox:"0 0 50 50",children:[(0,r.jsx)("circle",{cx:"25",cy:"25",r:20,stroke:"currentColor",strokeWidth:"3",fill:"transparent",className:"text-muted-foreground/20"}),(0,r.jsx)("circle",{cx:"25",cy:"25",r:20,stroke:l,strokeWidth:"3",fill:"transparent",strokeDasharray:i,strokeDashoffset:n,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("div",{className:"text-xs font-bold",style:{color:l},children:t})})})]}),(0,r.jsx)("div",{className:"text-xs text-center text-muted-foreground font-medium",children:a})]})};function q(e){let t,{response:a}=e,i=e=>{try{return new URL(e).hostname}catch(e){return""}},[n,l]=s.useState(!1),o=e=>(null==e?void 0:e.kind)==="loading",d=o(a)?0:Math.round(((t=a.trustScores).sourceContextScore+t.contentAuthenticityScore+t.explainabilityScore)/3);return o(a)?(0,r.jsxs)("div",{className:"relative rounded-xl p-0.5",children:[(0,r.jsx)(L,{duration:10,borderWidth:1.5,className:"rounded-xl"}),(0,r.jsx)(f,{className:"relative bg-card text-card-foreground shadow-lg rounded-xl overflow-hidden border-0 z-10",children:(0,r.jsxs)(x,{className:"p-6 space-y-4",children:[(0,r.jsx)("div",{className:"w-24 h-6 rounded-md bg-muted animate-pulse"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("div",{className:"h-4 w-3/4 bg-muted rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-4 w-2/3 bg-muted rounded animate-pulse"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 w-40 bg-muted rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-16 w-full bg-muted rounded animate-pulse"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 w-72 bg-muted rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-20 w-full bg-muted rounded animate-pulse"}),a.expectedChecks&&a.expectedChecks.length>0&&(0,r.jsx)("div",{className:"grid gap-2",children:a.expectedChecks.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-muted animate-pulse"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:e})]},t))})]}),(0,r.jsxs)("div",{className:"flex items-end justify-between pt-2",children:[(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"h-8 w-20 rounded-full bg-muted animate-pulse"})}),(0,r.jsx)("div",{className:"flex items-end gap-3",children:[0,1,2].map(e=>(0,r.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,r.jsx)("div",{className:"w-14 h-14 rounded-full bg-muted animate-pulse"}),(0,r.jsx)("div",{className:"h-3 w-24 bg-muted rounded animate-pulse"})]},e))})]}),(0,r.jsxs)("div",{className:"pt-2 border-t border-border",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"h-4 w-28 bg-muted rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-6 w-16 bg-muted rounded animate-pulse"})]}),a.message&&(0,r.jsx)("div",{className:"mt-3 text-xs text-muted-foreground",children:a.message})]})]})})]}):(0,r.jsxs)("div",{className:"relative rounded-xl p-0.5",children:[(0,r.jsx)(L,{duration:10,borderWidth:1.5,className:"rounded-xl"}),(0,r.jsx)(f,{className:"relative bg-card text-card-foreground shadow-lg rounded-xl transition-all duration-300 hover:shadow-xl overflow-hidden border-0 z-10",children:(0,r.jsxs)(x,{className:"p-6 space-y-4",children:[(0,r.jsx)(y,{className:"text-sm px-3 py-1 text-white w-fit ".concat(O(a.verificationLevel)),children:a.mainLabel}),a.deepfakeDetection&&(0,r.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg border ".concat(a.deepfakeDetection.isDeepfake?"bg-red-50 border-red-200":"bg-green-50 border-green-200"),children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:a.deepfakeDetection.isDeepfake?(0,r.jsx)(F.A,{className:"h-5 w-5 text-red-600"}):(0,r.jsx)(T.A,{className:"h-5 w-5 text-green-600"})}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-sm font-medium",children:a.deepfakeDetection.isDeepfake?"Deepfake Detected":"No Deepfake Detected"}),(0,r.jsxs)(y,{variant:a.deepfakeDetection.isDeepfake?"destructive":"default",className:"text-xs",children:[a.deepfakeDetection.confidence,"% confidence"]})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.deepfakeDetection.details})]})]}),(0,r.jsx)("div",{className:"text-foreground text-sm leading-relaxed border-b border-border pb-3",children:a.oneLineDescription}),(0,r.jsxs)("div",{className:"space-y-2 border-b border-border pb-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-foreground",children:"Information summary"}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm leading-relaxed",children:a.informationSummary})]}),(0,r.jsxs)("div",{className:"space-y-2 border-b border-border pb-3",children:[(0,r.jsxs)(R.$,{variant:"ghost",onClick:()=>l(!n),className:"h-auto p-0 text-sm font-medium text-foreground hover:bg-transparent justify-start",children:["Educational insight on how the manipulation is done/how well the information is given",n?(0,r.jsx)(E.A,{className:"ml-1 h-4 w-4"}):(0,r.jsx)(_.A,{className:"ml-1 h-4 w-4"})]}),n&&(0,r.jsxs)("div",{className:"mt-2 p-3 bg-muted/50 rounded-lg text-sm text-muted-foreground leading-relaxed",children:[a.educationalInsight,a.misleadingIndicators&&a.misleadingIndicators.length>0&&(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,r.jsx)("h4",{className:"text-xs font-medium text-foreground",children:"Misleading Indicators:"}),a.misleadingIndicators.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-background rounded border",children:[(0,r.jsx)("span",{className:"text-xs",children:e.indicator}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-16 bg-muted rounded-full h-1.5",children:(0,r.jsx)("div",{className:"h-1.5 rounded-full ".concat("high"===e.severity?"bg-red-500":"medium"===e.severity?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(e.confidence,"%")}})}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.confidence,"%"]})]})]},t))]}),a.deepfakeDetection&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-background rounded border",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("h4",{className:"text-xs font-medium text-foreground",children:"Deepfake Detection:"}),(0,r.jsx)(y,{variant:a.deepfakeDetection.isDeepfake?"destructive":"default",className:"text-xs",children:a.deepfakeDetection.isDeepfake?"Detected":"Not Detected"})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:a.deepfakeDetection.details}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xs",children:"Confidence:"}),(0,r.jsx)("div",{className:"w-20 bg-muted rounded-full h-1.5",children:(0,r.jsx)("div",{className:"h-1.5 bg-blue-500 rounded-full",style:{width:"".concat(a.deepfakeDetection.confidence,"%")}})}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.deepfakeDetection.confidence,"%"]})]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-end justify-between pt-2",children:[(0,r.jsxs)(w,{children:[(0,r.jsx)(k,{asChild:!0,children:(0,r.jsx)(R.$,{variant:"outline",size:"sm",className:"rounded-full bg-muted hover:bg-muted/80 border-0 text-foreground",children:"Sources"})}),(0,r.jsxs)(A,{className:"sm:max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[(0,r.jsxs)(C,{className:"flex-shrink-0",children:[(0,r.jsx)(I,{children:"Sources & Verification Details"}),(0,r.jsx)(M,{children:"Source information and verification results"})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[a.sourceMetadata&&(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-muted/50",children:[(0,r.jsxs)("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[(0,r.jsx)(U.A,{className:"h-4 w-4"}),"Source Information"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.sourceMetadata.domain&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Domain:"}),(0,r.jsx)("p",{className:"font-medium",children:a.sourceMetadata.domain})]}),a.sourceMetadata.author&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Author:"}),(0,r.jsx)("p",{className:"font-medium",children:a.sourceMetadata.author})]}),a.sourceMetadata.reputation&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Reputation:"}),(0,r.jsx)("p",{className:"font-medium capitalize",children:a.sourceMetadata.reputation})]}),a.sourceMetadata.verificationStatus&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,r.jsx)(y,{variant:"verified"===a.sourceMetadata.verificationStatus?"default":"secondary",children:a.sourceMetadata.verificationStatus})]})]})]}),(0,r.jsx)("div",{className:"space-y-2",children:a.sources.map((e,t)=>{let a=(e=>{let t=i(e);return t?"https://icons.duckduckgo.com/ip3/".concat(t,".ico"):""})(e.url),s=i(e.url);return(0,r.jsxs)("a",{href:e.url||"#",target:e.url?"_blank":void 0,rel:e.url?"noopener noreferrer":void 0,className:"flex items-start gap-3 rounded-lg px-3 py-3 hover:bg-accent hover:text-accent-foreground transition-all duration-200 text-sm border border-border/15 hover:border-[#4285F4]/20 group",children:[a?(0,r.jsx)("img",{src:a,alt:e.title,className:"w-6 h-6 rounded-sm bg-muted border border-border/15 flex-shrink-0 mt-0.5",referrerPolicy:"no-referrer"}):(0,r.jsx)("div",{className:"w-6 h-6 rounded-sm bg-gradient-to-br from-[#4285F4] to-[#0F9D58] border border-border/15 flex-shrink-0 flex items-center justify-center mt-0.5",children:(0,r.jsx)(z.A,{className:"w-3 h-3 text-white"})}),(0,r.jsxs)("div",{className:"min-w-0 flex-1 space-y-1",children:[(0,r.jsx)("div",{className:"font-medium text-foreground leading-5 line-clamp-2 group-hover:text-[#4285F4] transition-colors",children:e.title}),e.url&&(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground break-all leading-4",children:s||e.url}),s&&(0,r.jsx)("div",{className:"px-2 py-0.5 bg-muted rounded text-xs text-muted-foreground border border-border/10 flex-shrink-0",children:new URL(e.url).protocol.replace(":","")})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2 flex-shrink-0 mt-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#0F9D58]",title:"Verified Source"}),(0,r.jsx)(P.A,{className:"h-4 w-4 text-muted-foreground group-hover:text-[#4285F4] transition-colors"})]})]},t)})})]})]})]}),(0,r.jsxs)("div",{className:"flex items-end gap-3",children:[(0,r.jsx)(B,{score:a.trustScores.sourceContextScore,label:"Source & Context Verification",icon:(0,r.jsx)(U.A,{})}),(0,r.jsx)(B,{score:a.trustScores.contentAuthenticityScore,label:"Authenticity & Consistency",icon:(0,r.jsx)(V.A,{})}),(0,r.jsx)(B,{score:d,label:"Explainability & Composite",icon:(0,r.jsx)(W.A,{})})]})]}),(0,r.jsx)("div",{className:"pt-2 border-t border-border",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Overall Verdict:"}),(0,r.jsx)(y,{className:"".concat(O(a.verificationLevel)," text-white"),children:a.verdict})]})})]})})]})}function H(e){let{task:t,result:a,sourceResult:s}=e;if(!a)return(0,r.jsx)("div",{className:"p-4 text-center text-red-500",children:"Analysis could not be completed."});if(a&&"object"==typeof a&&"loading"===a.kind)return(0,r.jsx)(q,{response:a});let i=function(e,t,a){var r,s,i,n,l,o,d,c,u,m,f;let x=e=>"string"==typeof e?e:"object"==typeof e&&null!==e?JSON.stringify(e,null,2):String(e||""),h=Number(t.trustScore||t.credibilityScore||t.confidenceScore||50),p=((e,t)=>{let a=e||50;return{sourceContextScore:Math.min(100,Math.max(0,t.sourceCredibility||a+Math.floor(10*Math.random()-5))),contentAuthenticityScore:Math.min(100,Math.max(0,t.credibilityScore||a+Math.floor(10*Math.random()-5))),explainabilityScore:Math.min(100,Math.max(0,a+Math.floor(8*Math.random()-4)))}})(h,t),g=t.misleadingIndicators&&Array.isArray(t.misleadingIndicators)?t.misleadingIndicators.map((e,t)=>({indicator:"string"==typeof e?e:"Indicator ".concat(t+1),confidence:Math.floor(30*Math.random()+60),severity:Math.random()>.7?"high":Math.random()>.4?"medium":"low"})):[],b=(e=>{if("boolean"==typeof e.isDeepfake)return{isDeepfake:e.isDeepfake,confidence:Math.floor(20*Math.random()+75),details:e.explanation||e.details||"AI-based analysis of media authenticity",technicalDetails:e.technicalDetails}})(t),v=(e=>{var t,a,r,s,i;if(e)return{domain:e.domain||(null==(t=e.details)?void 0:t.domain),author:e.author||(null==(a=e.details)?void 0:a.author),reputation:e.reputation||(null==(r=e.details)?void 0:r.reputation),verificationStatus:e.verificationStatus||e.sourceVerified?"verified":"unknown",publishDate:e.publishDate||(null==(s=e.details)?void 0:s.publishDate),ssl:e.ssl||(null==(i=e.details)?void 0:i.ssl)}})(a),y=(e=>{var t;let a=[];return(null==(t=e.misleadingIndicators)?void 0:t.length)>0&&a.push({type:"manipulation",title:"Misleading Indicators Found",content:"".concat(e.misleadingIndicators.length," potential indicators of manipulation or misinformation detected."),icon:"⚠️"}),e.isDeepfake&&a.push({type:"warning",title:"Misinformation Detected",content:"This claim contains false or misleading information. Always verify facts with authoritative sources before sharing.",icon:"alert"}),a})(t),j={mainLabel:"Analysis",oneLineDescription:"Here is the result of the analysis.",informationSummary:"Analysis completed",educationalInsight:"No specific educational insight provided.",trustScores:p,misleadingIndicators:g,deepfakeDetection:b,sources:Array.isArray(f=t.sources||[])?f.map((e,t)=>"string"==typeof e?{url:e,title:e}:"object"==typeof e&&null!==e?{url:e.url||e.source||"source-".concat(t),title:e.title||e.url||e.source||"Source ".concat(t+1),favicon:e.favicon}:{url:"",title:"Source ".concat(t+1)}):[],sourceMetadata:v,verificationLevel:h>=75?"authentic":h>=40?"suspicious":"fake",verdict:h>=75?"True":h>=40?"Suspicious":"Fake",educationalCards:y};switch(e){case"url-analysis":j.mainLabel=x((null==(r=t.verifySource)?void 0:r.credibilityScore)>70?"Credible Source":"Use with Caution"),j.oneLineDescription=x("Analysis of the URL: ".concat(null!=(o=null==(s=t.verifySource)?void 0:s.url)?o:"")),j.informationSummary=x(null==(i=t.safeSearch)?void 0:i.safetyVerdict)+". "+x(null==(n=t.verifySource)?void 0:n.credibilityVerdict),j.educationalInsight=x(null==(l=t.verifySource)?void 0:l.explanation)||"Review the source credibility and safety assessment for more details.";break;case"deepfake":j.mainLabel=x(t.isDeepfake?"Deepfake Detected":"Likely Authentic"),j.oneLineDescription=x("Deepfake analysis result: ".concat(t.confidenceScore,"% confidence.")),j.informationSummary=x(t.summary),j.educationalInsight=x(t.explanation);break;case"synthetic-content":j.mainLabel=x(t.isSynthetic?"Synthetic Content":"Likely Original"),j.oneLineDescription=x("Synthetic content analysis with ".concat(t.confidenceScore,"% confidence.")),j.informationSummary=x(t.summary),j.educationalInsight=x(t.explanation);break;case"fact-check":j.mainLabel=x(t.verdict),j.oneLineDescription=x('Fact check result for the claim: "'.concat(null!=(d=t.claim)?d:"",'"')),j.informationSummary=x(t.explanation||t.summary),j.educationalInsight=x(t.explanation||t.educationalInsight||"This fact-check analyzes the provided claim for accuracy.");break;case"credibility-assessment":j.mainLabel=x(null!=(c=t.assessmentSummary)?c:"Credibility Assessed"),j.oneLineDescription=x("Credibility score: ".concat(null!=(u=t.score)?u:"",". ").concat(null!=(m=t.assessmentSummary)?m:"")),j.informationSummary=x(t.assessmentSummary||"Assessment complete."),j.educationalInsight=x(t.explanation||t.educationalInsight||"This assessment evaluates the reliability of the provided information.");break;default:j.mainLabel=x(e.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())),j.oneLineDescription=x(t.summary)||"Analysis complete.",j.informationSummary=x(t.explanation||t.summary)}return j}(t,a,s);return(0,r.jsx)(q,{response:i})}var J=a(2869);function $(e){let{children:t,isUser:a=!1}=e;return(0,r.jsxs)("div",{className:"flex items-start gap-2 sm:gap-2 ".concat(a?"justify-end":""," w-full animate-in fade-in-0 slide-in-from-bottom-2 duration-500"),children:[!a&&(0,r.jsx)(u,{className:"h-8 w-8 flex-shrink-0",children:(0,r.jsx)(m,{className:"bg-[#4285F4] text-white",children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),a?(0,r.jsx)(f,{className:(0,c.cn)("w-auto max-w-[85%] sm:max-w-[70%] md:max-w-[60%] lg:max-w-lg rounded-lg shadow-sm border transition-all duration-300","bg-primary text-primary-foreground border-primary/20"),children:(0,r.jsx)("div",{className:"px-2.5 py-2",children:t})}):(0,r.jsx)("div",{className:"w-auto max-w-[85%] sm:max-w-[70%] md:max-w-[60%] lg:max-w-lg",children:t}),a&&(0,r.jsx)(u,{className:"h-8 w-8 flex-shrink-0",children:(0,r.jsx)(m,{className:"bg-muted text-muted-foreground",children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})})]})}function K(e){let{content:t,file:a}=e;return a?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("div",{className:"relative h-20 w-20 rounded-lg overflow-hidden border bg-muted",children:a.type.startsWith("image/")?(0,r.jsx)(J.default,{src:a.dataUrl,alt:"uploaded content",fill:!0,className:"object-cover"}):a.type.startsWith("video/")?(0,r.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center h-full text-muted-foreground text-xs p-2",children:[(0,r.jsx)(l.A,{className:"h-6 w-6"}),(0,r.jsx)("span",{children:"Video"})]}):a.type.startsWith("audio/")?(0,r.jsxs)("div",{className:"flex flex-col gap-1 items-center justify-center h-full text-muted-foreground text-xs p-2",children:[(0,r.jsx)(o.A,{className:"h-6 w-6"}),(0,r.jsx)("span",{children:"Audio"})]}):null}),t&&(0,r.jsx)("p",{className:"text-base break-words whitespace-pre-wrap",children:t})]}):t?(0,r.jsx)("p",{className:"text-base break-words whitespace-pre-wrap",children:t}):null}function G(){return(0,r.jsx)($,{isUser:!1,children:(0,r.jsx)("div",{className:"text-card-foreground w-auto max-w-[85%] sm:max-w-[70%] md:max-w-[60%] lg:max-w-lg rounded-lg shadow-sm border transition-all duration-300 bg-card border-border/15",children:(0,r.jsxs)("div",{className:"p-4 space-y-2",children:[(0,r.jsx)(h,{className:"h-4 w-[250px]"}),(0,r.jsx)(h,{className:"h-4 w-[200px]"})]})})})}function Y(e){let{messages:t,isLoading:a=!1,performAnalysis:i,addMessage:n,removeLastMessage:l}=e,o=(0,s.useRef)(null),d=(0,s.useRef)(null),c=(0,s.useRef)(-1),u=()=>{var e;null==(e=d.current)||e.scrollIntoView({behavior:"smooth",block:"end"})};return(0,s.useEffect)(()=>{let e=t.length-1;if(e>=0&&e!==c.current){let s=t[e];if((null==s?void 0:s.type)==="user"){var a,r;c.current=e;let t=null!=(a=null==s?void 0:s.input)?a:"";i(t,(null==s?void 0:s.file)?{dataUrl:s.file.dataUrl,type:s.file.type}:null,null!=(r=null==s?void 0:s.language)?r:"en-US",n,l).catch(()=>{}),u()}}(()=>{let e=o.current;if(!e)return!0;let t=e.querySelector("[data-radix-scroll-area-viewport]");if(!t)return!0;let{scrollTop:a,scrollHeight:r,clientHeight:s}=t;return r-(a+s)<100})()&&u()},[t,a,i,n,l]),(0,r.jsxs)("div",{className:"flex-1 relative overflow-hidden",children:[(0,r.jsx)(g,{className:"h-full",ref:o,children:(0,r.jsxs)("div",{className:"mx-auto max-w-4xl space-y-3 pb-4 px-2 sm:px-3 pt-16",children:[t.map((e,t)=>(0,r.jsx)($,{isUser:"user"===e.type,children:"user"===e.type?(0,r.jsx)(K,{content:e.input,file:e.file}):(0,r.jsx)(H,{task:e.task,result:e.result,sourceResult:e.sourceResult})},t)),(()=>{var e;let s=t.length-1;return s>=0&&(null==(e=t[s])?void 0:e.type)==="user"&&c.current<s||a?(0,r.jsx)(G,{}):null})(),(0,r.jsx)("div",{ref:d,className:"h-1"})]})}),(0,r.jsx)("div",{className:"absolute top-0 left-0 right-0 h-14 pointer-events-none z-20 bg-gradient-to-b from-background to-transparent"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-14 pointer-events-none z-20 bg-gradient-to-t from-background to-transparent"})]})}},5037:(e,t,a)=>{a.d(t,{LandingPage:()=>S});var r=a(3365),s=a(1521),i=a(2486),n=a(9926);async function l(e,t){try{let a=await fetch("".concat("http://localhost:3001").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){let e=await a.text();throw Error("API call failed (".concat(a.status,"): ").concat(e||a.statusText))}let r=await a.json();return console.log("API Response from ".concat(e,":"),r),r}catch(t){throw console.error("API Error for ".concat(e,":"),t),t}}async function o(e){return l("/api/fact-check",{claim:e})}async function d(e,t,a){return l("/api/detect-deepfake",{media:e,contentType:t,sourceCredibility:a})}async function c(e){return l("/api/educational-insights",{text:e})}async function u(e,t){return l("/api/safety-assessment",{content:e,contentType:t})}async function m(e,t){return l("/api/verify-source",{content:e,contentType:t})}async function f(e,t){return l("/api/web-analysis",{query:e,contentType:t})}async function x(e,t){return l("/api/detect-synthetic",{media:e,contentType:t})}async function h(e){return l("/api/safe-search",{url:e})}async function p(e){return l("/api/transcribe-audio",{audioData:e})}async function g(e,t){if(!e||"string"!=typeof e)throw Error("Invalid text input for translation");if(!t||"string"!=typeof t)throw Error("Invalid target language for translation");return l("/api/translate-text",{text:e.trim(),targetLanguage:t})}var b=a(7598);let v=(0,s.memo)(e=>{let{children:t,className:a="",colors:s=["#FF0080","#7928CA","#0070F3","#38bdf8"],speed:i=1}=e,n={backgroundImage:"linear-gradient(135deg, ".concat(s.join(", "),", ").concat(s[0],")"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animationDuration:"".concat(10/i,"s")};return(0,r.jsxs)("span",{className:"relative inline-block ".concat(a),children:[(0,r.jsx)("span",{className:"sr-only",children:t}),(0,r.jsx)("span",{className:"relative animate-aurora bg-[length:200%_auto] bg-clip-text text-transparent",style:n,"aria-hidden":"true",children:t})]})});v.displayName="AuroraText";var y=a(7365),j=a(5887);function N(e){let{width:t=16,height:a=16,x:i=0,y:n=0,cx:l=1,cy:o=1,cr:d=1,className:c,glow:u=!1,...m}=e,f=(0,s.useId)(),x=(0,s.useRef)(null),[h,p]=(0,s.useState)({width:0,height:0});(0,s.useEffect)(()=>{let e=()=>{if(x.current){let{width:e,height:t}=x.current.getBoundingClientRect();p({width:e,height:t})}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let g=Array.from({length:Math.ceil(h.width/t)*Math.ceil(h.height/a)},(e,r)=>{let s=r%Math.ceil(h.width/t),i=Math.floor(r/Math.ceil(h.width/t));return{x:s*t+l,y:i*a+o,delay:5*Math.random(),duration:3*Math.random()+2}});return(0,r.jsxs)("svg",{ref:x,"aria-hidden":"true",className:(0,y.cn)("pointer-events-none absolute inset-0 h-full w-full text-neutral-400/80",c),...m,children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("radialGradient",{id:"".concat(f,"-gradient"),children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"currentColor",stopOpacity:"1"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"currentColor",stopOpacity:"0"})]})}),g.map((e,t)=>(0,r.jsx)(j.P.circle,{cx:e.x,cy:e.y,r:d,fill:u?"url(#".concat(f,"-gradient)"):"currentColor",initial:u?{opacity:.4,scale:1}:{},animate:u?{opacity:[.4,1,.4],scale:[1,1.5,1]}:{},transition:u?{duration:e.duration,repeat:1/0,repeatType:"reverse",delay:e.delay,ease:"easeInOut"}:{}},"".concat(e.x,"-").concat(e.y)))]})}var w=a(8612);function k(e){let{children:t,className:a,duration:i=100,delay:n=0,as:l="div",startOnView:o=!1,...d}=e,c=j.P.create(l,{forwardMotionProps:!0}),[u,m]=(0,s.useState)(""),[f,x]=(0,s.useState)(!1),h=(0,s.useRef)(null),p=(0,w.W)(h,{amount:.3,once:!0});return(0,s.useEffect)(()=>{if(!o){let e=setTimeout(()=>{x(!0)},n);return()=>clearTimeout(e)}if(!p)return;let e=setTimeout(()=>{x(!0)},n);return()=>clearTimeout(e)},[n,o,p]),(0,s.useEffect)(()=>{if(!f)return;let e=Array.from(t),a=0,r=setInterval(()=>{a<e.length?(m(e.slice(0,a+1).join("")),a++):clearInterval(r)},i);return()=>{clearInterval(r)}},[t,i,f]),(0,r.jsx)(c,{ref:h,className:(0,y.cn)("text-4xl font-bold leading-[5rem] tracking-[-0.02em]",a),...d,children:u})}function S(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(!1),[j,w]=(0,s.useState)(0),{isLoading:S,performAnalysis:D}=function(){let[e,t]=(0,s.useState)(!1),{toast:a}=(0,b.dj)();return{isLoading:e,performAnalysis:async(e,r,s,i,n)=>{t(!0);try{let t,l,b,v=e,y=r;if(y&&y.type.startsWith("audio/"))try{let e=y.dataUrl.split(",")[1],t=await p(e);v="string"==typeof t?t:(null==t?void 0:t.transcription)||(null==t?void 0:t.text)||"",y=null}catch(e){console.error("Transcription failed:",e),a({title:"Audio Transcription Failed",description:"Could not process the audio. Please try again.",variant:"destructive"}),n();return}if("en-US"!==s&&v&&"string"==typeof v)try{let e=await g(v,"en-US");v="string"==typeof e?e:v}catch(e){console.error("Input translation failed:",e),a({title:"Translation Failed",description:"Could not translate your text. Please try again.",variant:"destructive"}),n();return}let j="text";if(y?y.type.startsWith("image/")?j="image":y.type.startsWith("video/")&&(j="video"):v.match(/^https?:\/\//)&&(j="url"),t="url"===j?"url-analysis":"image"===j||"video"===j?v.toLowerCase().includes("synthetic")||v.toLowerCase().includes("ai-generated")?"synthetic-content":"deepfake":v.toLowerCase().includes("explain")||v.toLowerCase().includes("insight")?"insights":v.toLowerCase().includes("safety")||v.toLowerCase().includes("harm")?"safety":v.toLowerCase().includes("web")||v.toLowerCase().includes("search")||v.toLowerCase().includes("current")?"web-analysis":v.toLowerCase().includes("misinformation")||v.toLowerCase().includes("disinformation")?"misinformation":"fact-check","url-analysis"===t&&"url"===j){let[e,t]=await Promise.all([h(v),m(v,"url")]);l={safeSearch:e,verifySource:t}}else"deepfake"===t&&y?(v.match(/^https?:\/\//)&&(b=await m(v,"url").catch(e=>console.error("Source verification failed:",e))),l=await d(y.dataUrl,j,null==b?void 0:b.sourceCredibility)):l="insights"===t?await c(v):"safety"===t?await u(v,j):"web-analysis"===t?await f(v,j):"synthetic-content"===t&&y?await x(y.dataUrl,j):await o(v);if("en-US"!==s&&l){for(let e of["summary","explanation","claim","evidence"])if(l[e]&&"string"==typeof l[e])try{l[e]=await g(l[e],s)}catch(t){console.error("Translation failed for field ".concat(e,":"),t)}}let N={type:"ai",task:t,result:l,sourceResult:b};i(N)}catch(t){var l,b,v,y;let e="An error occurred during analysis. Please check your input or try again later.";(null==(l=t.message)?void 0:l.includes("503"))||(null==(b=t.message)?void 0:b.includes("overloaded"))?e="The analysis service is currently experiencing high demand. Please try again in a few moments.":((null==(v=t.message)?void 0:v.includes("429"))||(null==(y=t.message)?void 0:y.includes("quota")))&&(e="You've exceeded the request limit. Please wait a bit before trying again."),a({title:"Analysis Failed",description:e,variant:"destructive"}),n()}finally{t(!1)}}}}(),A=e=>t(t=>[...t,e]),C=()=>t(e=>e.slice(0,-1)),I=["Analyze this claim about climate change...","Is this news article credible?","Check if this video is a deepfake.","Verify this health information","Analyze the authenticity of this audio","Is this social media post true?"];return(0,s.useEffect)(()=>{if(!a){let e=setInterval(()=>{w(e=>(e+1)%I.length)},4e3);return()=>clearInterval(e)}},[a,I.length]),(0,r.jsxs)("div",{className:"flex flex-col h-screen w-full max-w-6xl mx-auto overflow-hidden",children:[a?(0,r.jsx)(i.E,{messages:e,isLoading:S,performAnalysis:D,addMessage:A,removeLastMessage:C}):(0,r.jsxs)("div",{className:"relative flex-1 flex flex-col justify-center px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[(0,r.jsx)(N,{className:(0,y.cn)("[mask-image:radial-gradient(400px_circle_at_center,white,transparent)] sm:[mask-image:radial-gradient(600px_circle_at_center,white,transparent)] absolute inset-0 opacity-30 dark:opacity-15"),width:16,height:16,cr:.8}),(0,r.jsxs)("div",{className:"relative z-10 text-center max-w-5xl mx-auto",children:[(0,r.jsx)("div",{className:"mb-6 sm:mb-8",children:(0,r.jsx)(v,{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-bold tracking-tight mb-2 sm:mb-4",colors:["#4285F4","#0F9D58","#F4B400","#DB4437"],children:"unmai.ai"})}),(0,r.jsx)("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl mb-8 sm:mb-12 max-w-4xl mx-auto leading-relaxed font-medium px-4  bg-gradient-to-b from-gray-300 via-gray-400 to-gray-600 bg-clip-text text-transparent",children:"Verify credibility and uncover truth with AI-powered analysis"}),(0,r.jsxs)("div",{className:"mb-16 sm:mb-20",children:[(0,r.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground/70 mb-2 sm:mb-3 font-medium",children:"Try asking:"}),(0,r.jsx)("div",{className:"text-sm sm:text-base lg:text-lg text-muted-foreground/80 font-medium min-h-[1.25rem] sm:min-h-[1.5rem] px-4",children:(0,r.jsx)(k,{className:"text-[#F4B400] font-semibold text-sm sm:text-base lg:text-2xl",duration:80,children:I[j]},j)})]})]})]}),(0,r.jsx)("div",{className:"flex-shrink-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 lg:px-6 py-3 sm:py-4",children:(0,r.jsx)(n.InputBar,{addMessage:A,removeLastMessage:C,setShowChat:l,showChat:a,isLoading:S})})})]})}},7365:(e,t,a)=>{a.d(t,{cn:()=>i});var r=a(9783),s=a(5347);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},7598:(e,t,a)=>{a.d(t,{dj:()=>u});var r=a(1521);let s=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=[],o={toasts:[]};function d(e){o=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(o,e),l.forEach(e=>{e(o)})}function c(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=r.useState(o);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},9606:(e,t,a)=>{a.d(t,{$:()=>d});var r=a(3365),s=a(1521),i=a(5933),n=a(9395),l=a(7365);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:s,size:n,className:a})),ref:t,...c})});d.displayName="Button"},9926:(e,t,a)=>{a.d(t,{InputBar:()=>F});var r=a(3365),s=a(1521),i=a(7365);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});n.displayName="Textarea";var l=a(9606),o=a(5933);let d=(0,a(9395).F)((0,i.cn)("relative cursor-pointer group transition-all animate-rainbow","inline-flex items-center justify-center gap-2 shrink-0","rounded-sm outline-none focus-visible:ring-[3px] aria-invalid:border-destructive","text-sm font-medium whitespace-nowrap","disabled:pointer-events-none disabled:opacity-50","[&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0"),{variants:{variant:{default:"border-0 bg-[linear-gradient(#121213,#121213),linear-gradient(#121213_50%,rgba(18,18,19,0.6)_80%,rgba(18,18,19,0)),linear-gradient(90deg,var(--color-1),var(--color-5),var(--color-3),var(--color-4),var(--color-2))] bg-[length:200%] text-primary-foreground [background-clip:padding-box,border-box,border-box] [background-origin:border-box] [border:calc(0.125rem)_solid_transparent] before:absolute before:bottom-[-20%] before:left-1/2 before:z-0 before:h-1/5 before:w-3/5 before:-translate-x-1/2 before:animate-rainbow before:bg-[linear-gradient(90deg,var(--color-1),var(--color-5),var(--color-3),var(--color-4),var(--color-2))] before:[filter:blur(0.75rem)] dark:bg-[linear-gradient(#fff,#fff),linear-gradient(#fff_50%,rgba(255,255,255,0.6)_80%,rgba(0,0,0,0)),linear-gradient(90deg,var(--color-1),var(--color-5),var(--color-3),var(--color-4),var(--color-2))]",outline:"border border-input border-b-transparent bg-[linear-gradient(#ffffff,#ffffff),linear-gradient(#ffffff_50%,rgba(18,18,19,0.6)_80%,rgba(18,18,19,0)),linear-gradient(90deg,var(--color-1),var(--color-5),var(--color-3),var(--color-4),var(--color-2))] bg-[length:200%] text-accent-foreground [background-clip:padding-box,border-box,border-box] [background-origin:border-box] before:absolute before:bottom-[-20%] before:left-1/2 before:z-0 before:h-1/5 before:w-3/5 before:-translate-x-1/2 before:animate-rainbow before:bg-[linear-gradient(90deg,var(--color-1),var(--color-5),var(--color-3),var(--color-4),var(--color-2))] before:[filter:blur(0.75rem)] dark:bg-[linear-gradient(#0a0a0a,#0a0a0a),linear-gradient(#0a0a0a_50%,rgba(255,255,255,0.6)_80%,rgba(0,0,0,0)),linear-gradient(90deg,var(--color-1),var(--color-5),var(--color-3),var(--color-4),var(--color-2))]"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-xl px-3 text-xs",lg:"h-11 rounded-xl px-8",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:l=!1,...c}=e,u=l?o.DX:"button";return(0,r.jsx)(u,{"data-slot":"button",className:(0,i.cn)(d({variant:s,size:n,className:a})),ref:t,...c})});c.displayName="RainbowButton";var u=a(9050),m=a(6959),f=a(8198),x=a(1729),h=a(9825),p=a(5970),g=a(4670),b=a(2869),v=a(6300),y=a(581),j=a(424),N=a(6393);let w=v.bL;v.YJ,v.WT;let k=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(v.l9,{ref:t,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[s,(0,r.jsx)(v.In,{asChild:!0,children:(0,r.jsx)(y.A,{className:"h-4 w-4 opacity-50"})})]})});k.displayName=v.l9.displayName;let S=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(v.PP,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(j.A,{className:"h-4 w-4"})})});S.displayName=v.PP.displayName;let D=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(v.wn,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(y.A,{className:"h-4 w-4"})})});D.displayName=v.wn.displayName;let A=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...l}=e;return(0,r.jsx)(v.ZL,{children:(0,r.jsxs)(v.UC,{ref:t,className:(0,i.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...l,children:[(0,r.jsx)(S,{}),(0,r.jsx)(v.LM,{className:(0,i.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(D,{})]})})});A.displayName=v.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(v.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",a),...s})}).displayName=v.JU.displayName;let C=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(v.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(v.VF,{children:(0,r.jsx)(N.A,{className:"h-4 w-4"})})}),(0,r.jsx)(v.p4,{children:s})]})});C.displayName=v.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(v.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=v.wv.displayName;var I=a(8350);let M=I.Kq,R=I.bL,L=I.l9,T=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...n}=e;return(0,r.jsx)(I.ZL,{children:(0,r.jsx)(I.UC,{ref:t,sideOffset:s,className:(0,i.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",a),...n})})});function F(e){let{addMessage:t,removeLastMessage:a,setShowChat:i,showChat:o,isLoading:d}=e,[v,y]=(0,s.useState)(""),[j,N]=(0,s.useState)(null),[S,D]=(0,s.useState)(!1),[I,F]=(0,s.useState)(!1),[z,E]=(0,s.useState)(!1),[_,U]=(0,s.useState)("en-US"),P=(0,s.useRef)(null),V=(0,s.useRef)(null),W=(0,s.useRef)(null),O=(0,s.useRef)([]),B=e=>{if(e&&(e.type.startsWith("image/")||e.type.startsWith("video/")||e.type.startsWith("audio/"))){let t=new FileReader;t.onloadend=()=>{N({dataUrl:t.result,name:e.name,type:e.type})},t.readAsDataURL(e)}},q=async()=>{if(I)return void(W.current&&"recording"===W.current.state?W.current.stop():F(!1));try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e,{mimeType:"audio/webm;codecs=opus"});W.current=t,O.current=[],t.ondataavailable=e=>{e.data.size>0&&O.current.push(e.data)},t.onstop=async()=>{e.getTracks().forEach(e=>e.stop());let t=new Blob(O.current,{type:"audio/webm;codecs=opus"}),a=new FileReader;a.onloadend=()=>{a.result.split(",")[1],N({dataUrl:a.result,name:"Audio Recording",type:"audio/webm"})},a.readAsDataURL(t),F(!1)},t.onerror=t=>{console.error("MediaRecorder error:",t),F(!1),e.getTracks().forEach(e=>e.stop())},t.start(),F(!0)}catch(e){console.error("Error accessing microphone:",e),(window.SpeechRecognition||window.webkitSpeechRecognition)&&!S?H():alert("Microphone access denied or not supported. Please check your browser permissions.")}},H=()=>{if(S){var e;null==(e=V.current)||e.stop(),D(!1);return}let t=new(window.SpeechRecognition||window.webkitSpeechRecognition);t.lang=_,t.interimResults=!0,t.continuous=!1,t.maxAlternatives=1,V.current=t,t.onresult=e=>{let t="",a="";for(let r=e.resultIndex;r<e.results.length;r++){let s=e.results[r][0].transcript;e.results[r].isFinal?t+=s:a+=s}y(t||a)},t.onend=()=>{D(!1)},t.onerror=e=>{console.error("Speech recognition error:",e.error),D(!1)},t.start(),D(!0)},J=async e=>{e.preventDefault(),!d&&(v.trim()||j)&&(o||i(!0),t({type:"user",input:v,file:j,language:_,contentType:(null==j?void 0:j.type.split("/")[0])||(v.match(/^https?:\/\//)?"url":"text")}),y(""),N(null))};return(0,r.jsx)(M,{children:(0,r.jsx)("div",{className:"relative p-0.5 rounded-xl mb-8 sm:mb-12 lg:mb-16 bg-[linear-gradient(to_right,#4285F4,#EA4335,#FBBC05,#34A853)] input-focus-glow",children:(0,r.jsxs)("form",{onSubmit:J,onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),E(!0)},className:"relative rounded-xl bg-background p-2 sm:p-3 flex flex-col gap-2 sm:gap-3",children:[z&&(0,r.jsxs)("div",{className:"absolute inset-0 bg-primary/10 border-2 border-dashed border-primary rounded-xl flex flex-col items-center justify-center z-10",onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),E(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{var t;e.preventDefault(),e.stopPropagation(),E(!1),B((null==(t=e.dataTransfer.files)?void 0:t[0])||null)},role:"region","aria-label":"File drop area","aria-describedby":"drop-area-description",children:[(0,r.jsx)(u.A,{className:"h-12 w-12 text-primary"}),(0,r.jsx)("p",{id:"drop-area-description",className:"text-primary font-medium",children:"Drop your file here"})]}),j&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-lg border border-border/50 w-fit group",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:j.type.startsWith("image/")?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"relative h-8 w-8 rounded overflow-hidden bg-muted",children:(0,r.jsx)(b.default,{src:j.dataUrl,alt:j.name,fill:!0,style:{objectFit:"cover"}})}),(0,r.jsx)("span",{className:"text-sm font-medium text-foreground",children:j.name})]}):j.type.startsWith("video/")?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-8 w-8 rounded bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:(0,r.jsx)(m.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,r.jsx)("span",{className:"text-sm font-medium text-foreground",children:j.name})]}):j.type.startsWith("audio/")?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-8 w-8 rounded bg-green-100 dark:bg-green-900/20 flex items-center justify-center",children:(0,r.jsx)(f.A,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),(0,r.jsx)("span",{className:"text-sm font-medium text-foreground",children:j.name})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-8 w-8 rounded bg-gray-100 dark:bg-gray-900/20 flex items-center justify-center",children:(0,r.jsx)(x.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),(0,r.jsx)("span",{className:"text-sm font-medium text-foreground",children:j.name})]})}),(0,r.jsx)(l.$,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full hover:bg-destructive hover:text-destructive-foreground opacity-70 hover:opacity-100 transition-all",onClick:()=>N(null),children:(0,r.jsx)(h.A,{className:"h-3 w-3"})})]}),(0,r.jsx)("input",{ref:P,type:"file",accept:"image/*,video/*,audio/*",onChange:e=>{var t;B((null==(t=e.target.files)?void 0:t[0])||null)},className:"hidden"}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(n,{value:v,onChange:e=>y(e.target.value),onPaste:e=>{var t;B((null==(t=e.clipboardData.files)?void 0:t[0])||null)},placeholder:I?"Recording audio...":S?"Listening...":j&&(j.type.startsWith("image/")||j.type.startsWith("video/")||j.type.startsWith("audio/"))?"Add your question or analysis request":v.trim()?"Ready to analyze your content":"Analyze text, URL, or paste/drop an image, video, or audio file...",className:"resize-none bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0 min-h-[60px] transition-opacity duration-300 ".concat(d?"opacity-50":"opacity-100"),rows:1,onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey){let t=e.nativeEvent;(null==t||!t.isComposing)&&(d||S||I||(e.preventDefault(),J(e)))}},disabled:d||S||I}),(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(R,{children:[(0,r.jsx)(L,{asChild:!0,children:(0,r.jsx)(l.$,{variant:"default",size:"icon",className:"h-8 w-8 rounded-full",disabled:d||S,onClick:()=>{var e;return null==(e=P.current)?void 0:e.click()},children:(0,r.jsx)(x.A,{className:"h-4 w-4"})})}),(0,r.jsx)(T,{children:(0,r.jsx)("p",{children:"Attach file"})})]}),(0,r.jsxs)(R,{children:[(0,r.jsx)(L,{asChild:!0,children:(0,r.jsxs)(l.$,{variant:"default",size:"icon",className:"h-8 w-8 rounded-full relative overflow-hidden ".concat(I||S?"bg-[#DB4437] text-white hover:bg-[#DB4437]/90":""),disabled:d,onClick:q,children:[(0,r.jsx)("div",{className:"relative flex items-center justify-center z-10",children:(0,r.jsx)(p.A,{className:"h-4 w-4"})}),I&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-white/20 animate-ping"}),(0,r.jsx)("div",{className:"absolute inset-1 rounded-full bg-white/10 animate-ping",style:{animationDelay:"0.5s"}}),(0,r.jsxs)("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex gap-0.5",children:[(0,r.jsx)("div",{className:"w-0.5 h-1 bg-white rounded-full animate-pulse"}),(0,r.jsx)("div",{className:"w-0.5 h-1.5 bg-white rounded-full animate-pulse",style:{animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-0.5 h-1 bg-white rounded-full animate-pulse",style:{animationDelay:"0.2s"}})]})]})]})}),(0,r.jsx)(T,{children:(0,r.jsx)("p",{children:I?"Stop Recording":S?"Stop Recognition":"Start Voice Input"})})]}),(0,r.jsxs)(w,{value:_,onValueChange:U,children:[(0,r.jsx)(k,{className:"h-8 w-8 p-0 [&>svg:last-child]:hidden flex items-center justify-center border bg-primary text-primary-foreground hover:bg-primary/90 rounded-full text-xs font-bold","aria-label":"Change language",children:(0,r.jsx)("span",{children:{"en-US":"EN","hi-IN":"HI","bn-IN":"BN","ta-IN":"TA","te-IN":"TL","mr-IN":"MR","gu-IN":"GU","kn-IN":"KN"}[_]||"EN"})}),(0,r.jsxs)(A,{children:[(0,r.jsx)(C,{value:"en-US",children:"English"}),(0,r.jsx)(C,{value:"hi-IN",children:"Hindi"}),(0,r.jsx)(C,{value:"bn-IN",children:"Bengali"}),(0,r.jsx)(C,{value:"ta-IN",children:"Tamil"}),(0,r.jsx)(C,{value:"te-IN",children:"Telugu"}),(0,r.jsx)(C,{value:"mr-IN",children:"Marathi"}),(0,r.jsx)(C,{value:"gu-IN",children:"Gujarati"}),(0,r.jsx)(C,{value:"kn-IN",children:"Kannada"})]})]})]}),(0,r.jsx)(c,{type:"submit",className:"h-8 w-8 rounded-full p-0 min-w-8",disabled:S||!v.trim()&&!j&&!d,children:d?(0,r.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}):(0,r.jsx)(g.A,{className:"h-4 w-4"})})]})]})]})})})}T.displayName=I.UC.displayName}}]);